/*
  Adapted to match the styling of philipmathieu.com
 */

@import url('https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');
@import "tailwindcss";

/* stylelint-disable-next-line at-rule-no-unknown */
@theme {
	/* Gray color palette */
	--color-gray-100: #F7F7F7;
	--color-gray-200: #E5E5E5;
	--color-gray-300: #CCCCCC;
	--color-gray-500: #666666;
	--color-gray-600: #4A4A4A;
	--color-gray-800: #1A1A1A;
	
	/* Primary accent color - RGB(206, 17, 45) */
	--color-primary-500: #CE112D;
	--color-primary-600: #A00E24; /* Darker shade for hover states */
	--color-primary-400: #E6394D; /* Lighter shade */
	
	/* Link color - complementary blue */
	--color-link-500: #1D9ACC;
	--color-link-600: #1580b0; /* Darker shade for hover states */
	--color-link-400: #4BB4E6; /* Lighter shade */
	
	/* Font families - configured for Tailwind utilities */
	--font-family-sans: "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
	--font-family-serif: "Newsreader", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
	
	/* Max width */
	--max-width-8xl: 90rem;
	
	/* Box shadows */
	--shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

:root {
	/* Legacy CSS variables for compatibility */
	--gray-100: #F7F7F7;
	--gray-200: #E5E5E5;
	--gray-300: #CCCCCC;
	--gray-500: #666666;
	--gray-600: #4A4A4A;
	--gray-800: #1A1A1A;
	--primary-500: #CE112D;
	--primary-600: #A00E24;
	--primary-400: #E6394D;
	--link-500: #1D9ACC;
	--link-600: #1580b0;
	--link-400: #4BB4E6;
	--box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
	--box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
	
	/* Font family variables */
	--font-family-sans: "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
	--font-family-serif: "Newsreader", ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
}

@layer base {
	body {
		@apply font-sans m-0 p-0 text-left bg-gray-100 break-words text-gray-800 text-sm leading-normal;
	}

	main {
		@apply max-w-[90rem] mx-auto px-4;
	}

	h1, .h1 {
		@apply m-0 text-gray-800 font-serif text-4xl font-semibold leading-tight;
	}

	h2, .h2 {
		@apply m-0 text-gray-800 font-serif text-3xl font-semibold leading-snug;
	}

	h3, .h3 {
		@apply m-0 text-gray-800 font-serif text-xl font-semibold leading-snug;
	}

	h4, .h4 {
		@apply m-0 text-gray-800 font-serif text-base font-semibold leading-normal;
	}

	h5, h6 {
		@apply m-0 text-gray-800 font-serif font-semibold;
	}

	strong, b {
		@apply font-bold;
	}

	a {
		@apply text-link-500 no-underline;
	}

	a:hover {
		@apply text-link-500 underline;
	}

	p {
		@apply mb-4 text-gray-600 tracking-tight leading-normal;
	}

	.prose p {
		@apply mb-8;
	}

	.prose ul, .prose ol {
		@apply my-4 pl-8 list-outside;
	}

	.prose ul {
		@apply list-disc;
	}

	.prose ol {
		@apply list-decimal;
	}

	.prose li {
		@apply my-2 text-gray-600 leading-normal;
	}

	.prose ul ul,
	.prose ol ol,
	.prose ul ol,
	.prose ol ul {
		@apply my-2;
	}

	textarea {
		@apply w-full text-base;
	}

	input {
		@apply text-base;
	}

	table {
		@apply w-full;
	}

	img {
		@apply max-w-full h-auto rounded-none;
	}

	code {
		@apply px-1 py-0.5 bg-gray-200 rounded text-sm font-mono;
	}

	pre {
		@apply p-6 bg-gray-200 rounded-lg;
	}

	pre > code {
		@apply bg-transparent p-0;
	}

	/* Syntax highlighting styles from rehype-pretty-code */
	pre[data-theme] {
		@apply bg-gray-200;
	}

	pre code {
		@apply bg-transparent p-0 text-sm;
		display: block;
		overflow-x: auto;
	}

	pre code .line {
		@apply px-0;
	}

	/* Ensure code blocks have proper spacing */
	pre[data-theme] code {
		@apply text-gray-800;
	}

	/* Syntax highlighting token colors - override theme to match site colors */
	pre[data-theme] code .token {
		@apply text-gray-800;
	}

	/* Line numbers if enabled */
	pre code .line-number {
		@apply text-gray-500;
	}

	blockquote {
		@apply border-l-4 border-primary-500 pl-5 m-0;
	}

	hr {
		@apply border-0 border-t border-gray-200 my-4;
	}

	@media (max-width: 768px) {
		h1, .h1 {
			@apply text-2xl;
		}
		
		h2, .h2 {
			@apply text-xl;
		}
	}

	.sr-only {
		@apply absolute w-px h-px p-0 m-0 overflow-hidden;
		clip: rect(1px 1px 1px 1px);
		clip: rect(1px, 1px, 1px, 1px);
		clip-path: inset(50%);
		white-space: nowrap;
	}

	.mermaid {
		@apply bg-gray-100 rounded-lg p-6 my-6 overflow-x-auto text-center;
	}

	.prose .mermaid {
		@apply max-w-full;
	}

	.copy-button-wrapper {
		@apply relative block w-full m-0;
	}

	.copy-button-wrapper pre,
	.copy-button-wrapper blockquote {
		@apply m-0;
	}

	.copy-button {
		@apply absolute top-3 right-3 px-3 py-2 bg-gray-300 border-0 rounded cursor-pointer text-sm text-gray-800 font-sans transition-all z-10 flex items-center gap-1 opacity-90;
	}

	.copy-button:hover {
		@apply bg-gray-400 opacity-100;
	}

	.copy-button:active {
		@apply bg-gray-500;
	}

	.copy-button.copied {
		@apply bg-primary-500 text-white;
	}
}